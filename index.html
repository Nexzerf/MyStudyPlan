<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMIT Study Plan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" href="/std.png" sizes="32x32">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple.png">

    <!-- Manifest -->
<link rel="manifest" href="/manifest.json">

<!-- PWA for iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="MMITSTD">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#ffffff">

</head>
<body>
    <div class="container">
        
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
               
                    <div class="title-group">
                        <h1 class="main-title">MMIT Study Plan</h1>
                        <p class="subtitle">ภาคเรียนที่ 2/2568</p>
                    </div>
                </div>
                <div class="current-info">
                    <div class="current-day" id="currentDay">Today</div>
                    <div class="current-time" id="currentTime">00:00</div>
                </div>
            </div>
        </header>

        
        <nav class="quick-nav">
            <button class="nav-btn active" data-view="week">
                <i class="fas fa-calendar-week"></i>
                <span>สัปดาห์</span>
            </button>
            <button class="nav-btn" data-view="today">
                <i class="fas fa-calendar-day"></i>
                <span>วันนี้</span>
            </button>
            <button class="nav-btn" data-view="list">
                <i class="fas fa-list"></i>
                <span>รายการ</span>
            </button>
        </nav>

       
        <main class="schedule-container">
           
            <div class="schedule-view week-view active" id="weekView">
                <div class="schedule-grid">
                   
                    <div class="day-card" data-day="monday">
                        <div class="day-header">
                            <div class="day-info">
                                <h3 class="day-name">จันทร์</h3>
                                <span class="day-english">Monday</span>
                            </div>
                            <div class="day-indicator"></div>
                        </div>
                        <div class="classes-list">
                            <div class="class-item">
                                <div class="time-badge">08:30 - 09.30</div>
                                <div class="subject english">
                                    <div class="subject-info">
                                        <div>
                                            <h4>Fundamental English 2</h4>
                                            <span class="code">001102 (004-000)</span>
                                        </div>
                                    </div>
                                    <div class="location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        RB5402
                                    </div>
                                </div>
                            </div>

                            <div class="class-item">
                                <div class="time-badge">13.00 - 17.00</div>
                                <div class="subject it-literacy-lab">
                                    <div class="subject-info">
                                        <div>
                                            <h4>Data Management</h4>
                                            <span class="code">954143 (004-000)</span>
                                        </div>
                                    </div>
                                    <div class="location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        ILC-C202
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>

               
                    <div class="day-card" data-day="tuesday">
                        <div class="day-header">
                            <div class="day-info">
                                <h3 class="day-name">อังคาร</h3>
                                <span class="day-english">Tuesday</span>
                            </div>
                            <div class="day-indicator"></div>
                        </div>
                        <div class="classes-list">
                            <div class="class-item">
                                <div class="time-badge">14.30 - 16.00</div>
                                <div class="subject info-system">
                                    <div class="subject-info">
                                        <div>
                                            <h4>Elementary Business Process Modeling</h4>
                                            <span class="code">954170 (002-000)</span>
                                        </div>
                                    </div>
                                    <div class="location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        ILC-B303
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="day-card" data-day="wednesday">
                        <div class="day-header">
                            <div class="day-info">
                                <h3 class="day-name">พุธ</h3>
                                <span class="day-english">Wednesday</span>
                            </div>
                            <div class="day-indicator"></div>
                        </div>
                        <div class="classes-list">
                            <div class="class-item">                            
                                <div class="time-badge">13:00 - 16.00</div>
                                <div class="subject citizenship clickable" data-link="https://cmu.to/261112-2025">
                                    <div class="subject-info">
                                        <div>
                                            <h4>Game Appreciation</h4>
                                            <span class="code">261112 (048-000)</span>
                                        </div>
                                        <i class="fas fa-external-link-alt link-icon"></i>
                                    </div>
                                    <div class="location online">
                                        <i class="fas fa-video"></i>
                                        Online
                                    </div>
                                </div>
                            </div>
                                </div>
                            </div>
                            <div class="day-card" data-day="thursday">
    <div class="day-header">
        <div class="day-info">
            <h3 class="day-name">พฤหัสบดี</h3>
            <span class="day-english">Thursday</span>
        </div>
        <div class="day-indicator"></div>
    </div>

    <div class="classes-list">
        
        <div class="class-item">
            <div class="time-badge">08.00 - 09.30</div>
            <div class="subject english">
                <div class="subject-info">
                    <div>
                        <h4>Fundamental English 2</h4>
                        <span class="code">001102 (004-000)</span>
                    </div>
                </div>
                <div class="location">
                    <i class="fas fa-map-marker-alt"></i>
                    RB5402
                </div>
            </div>
        </div>

        <div class="class-item">
            <div class="time-badge">13.00 - 17.00</div>
            <div class="subject programming-lab">
                <div class="subject-info">
                    <div>
                        <h4>Advance Computer Programming for Modern Management</h4>
                        <span class="code">954246 (004-000)</span>
                    </div>
                </div>
                <div class="location">
                    <i class="fas fa-map-marker-alt"></i>
                    ILC-C308
                </div>
            </div>
        </div>

    </div>
</div>                  
                    <div class="day-card" data-day="friday">
                        <div class="day-header">
                            <div class="day-info">
                                <h3 class="day-name">ศุกร์</h3>
                                <span class="day-english">Friday</span>
                            </div>
                            <div class="day-indicator"></div>
                        </div>
                        <div class="classes-list">
                            <div class="class-item">
                                <div class="time-badge">08.00 - 10.00</div>
                                <div class="subject it-literacy">
                                    <div class="subject-info">
                                        <div>
                                            <h4>Information and Communication Technology</h4>
                                            <span class="code">954248 (002-000)</span>
                                        </div>
                                    </div>
                                    <div class="location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        ILC-B302
                                    </div>
                                </div>
                            </div>

                            <div class="class-item">
                                <div class="time-badge">10.00 - 12.00</div>
                                <div class="subject it-literacy">
                                    <div class="subject-info">
                                        <div>
                                            <h4>Information and Communication Technology</h4>
                                            <span class="code">9954248 (002-000)</span>
                                        </div>
                                    </div>
                                    <div class="location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        ILC-C201, C202
                                    </div>
                                </div>
                            </div>

                            <div class="class-item">
                                <div class="time-badge">14.30 - 16.00</div>
                                <div class="subject info-system">
                                    <div class="subject-info">
                                        <i class="fas fa-code"></i>
                                        <div>
                                            <h4>Elementary Business Process Modeling</h4>
                                            <span class="code">954170 (002-000)</span>
                                        </div>
                                    </div>
                                    <div class="location">
                                        <i class="fas fa-map-marker-alt"></i>
                                        ILC-B303
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



                    

           
            <div class="schedule-view today-view" id="todayView">
                <div class="today-container">
                    <div class="today-header">
                        <h2 id="todayTitle">วันนี้</h2>
                        <p id="todayDate">Loading...</p>
                    </div>
                    <div class="today-classes" id="todayClasses">
                      
                    </div>
                </div>
            </div>

        </div>
            <div class="schedule-view list-view" id="listView">
                <div class="list-container">
                    <div class="subject-summary">
                        <h2>สรุปรายวิชา</h2>
                        <div class="summary-grid">
                            <div class="summary-item it-literacy">

                                <div>
                                    <h4>Information and Communication Technology</h4>
                                    <span>954248 • ศุกร์ 08.00 - 12.00</span>
                                </div>
                            </div>
                            <div class="summary-item citizenship">
                                <div>
                                    <h4>Data Management</h4>
                                    <span>954143 • จันทร์ 13:00-17.00</span>
                                </div>
                            </div>
                            <div class="summary-item english">
                                <div>
                                    <h4>Fundamental English 2</h4>
                                    <span>001102 • จันทร์, พฤหัส 08.00 - 09.30</span>
                                </div>
                            </div>
                            <div class="summary-item info-system">
                                <div>
                                    <h4>Elementary Business Process Modeling</h4>
                                    <span>954170 • อังคาร, ศุกร์ 14.30 - 16.00</span>
                                </div>
                            </div>
                            <div class="summary-item agribusiness">
                                <div>
                                    <h4>Game Appreciation</h4>
                                    <span>261112 • พุธ 13:00-16:00</span>
                                </div>
                                
                            </div>
                            <div class="summary-item programming">
                                <div>
                                    <h4>Advance Computer Programming for Modern Management</h4>
                                    <span>954246 • ศุกร์ 13:00-17:00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>


<!-- Modal HTML Structure -->
<div id="examModal" class="modal-overlay">
    <div class="modal-container">
        <div class="modal-header">
            <h2 id="modalTitle" class="modal-title">ข้อมูลวิชา</h2>
            <button id="closeModal" class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div class="subject-details">
                <div id="modalSubjectCode" class="subject-code"></div>
                <div id="modalSubjectName" class="subject-name"></div>
                <div id="modalTeacherName" class="teacher-name"></div>
            </div>
            <div class="exam-schedule">
                <div class="exam-item midterm">
                    <div class="exam-header">
                        <i class="fas fa-clock"></i>
                        <h4>สอบกลางภาค</h4>
                    </div>
                    <div class="exam-details">
                        <div id="midtermDetails"></div>
                    </div>
                </div>
                <div class="exam-item final">
                    <div class="exam-header">
                        <i class="fas fa-calendar-check"></i>
                        <h4>สอบปลายภาค</h4>
                    </div>
                    <div class="exam-details">
                        <div id="finalDetails"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    </div>

    <script>
    
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('th-TH', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: false 
            });
            const dayString = now.toLocaleDateString('th-TH', { weekday: 'long' });
            
            document.getElementById('currentTime').textContent = timeString;
            document.getElementById('currentDay').textContent = dayString;
        }

        
        function updateCurrentDayIndicator() {
            const today = new Date().getDay();
            const dayMap = {
                1: 'monday',
                2: 'tuesday', 
                3: 'wednesday',
                4: 'thursday',
                5: 'friday'
            };

           
            document.querySelectorAll('.day-card').forEach(card => {
                card.classList.remove('current-day');
            });

          
            if (dayMap[today]) {
                const currentDayCard = document.querySelector(`[data-day="${dayMap[today]}"]`);
                if (currentDayCard) {
                    currentDayCard.classList.add('current-day');
                }
            }
        }

        function initializeNavigation() {
            const navButtons = document.querySelectorAll('.nav-btn');
            const scheduleViews = document.querySelectorAll('.schedule-view');

            navButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetView = btn.getAttribute('data-view');
                    
                    
                    navButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                   
                    scheduleViews.forEach(view => view.classList.remove('active'));
                    document.getElementById(targetView + 'View').classList.add('active');
                    
                  
                    if (targetView === 'today') {
                        updateTodayView();
                    }
                });
            });
        }

        
        function updateTodayView() {
            const today = new Date();
            const dayMap = {
                1: 'monday',
                2: 'tuesday', 
                3: 'wednesday',
                4: 'thursday',
                5: 'friday'
            };

            const todayKey = dayMap[today.getDay()];
            const todayTitle = document.getElementById('todayTitle');
            const todayDate = document.getElementById('todayDate');
            const todayClasses = document.getElementById('todayClasses');

            todayTitle.textContent = today.toLocaleDateString('th-TH', { weekday: 'long' });
            todayDate.textContent = today.toLocaleDateString('th-TH', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            if (todayKey) {
                const todayCard = document.querySelector(`[data-day="${todayKey}"]`);
                if (todayCard) {
                    const classes = todayCard.querySelector('.classes-list').cloneNode(true);
                    todayClasses.innerHTML = '';
                    todayClasses.appendChild(classes);
                } else {
                    todayClasses.innerHTML = '<div class="no-classes">ไม่มีคลาสเรียนวันนี้</div>';
                }
            } else {
                todayClasses.innerHTML = '<div class="no-classes">ไม่มีคลาสเรียนวันนี้</div>';
            }
        }

        
        function initializeClickHandlers() {
            document.addEventListener('click', (e) => {
                const clickableSubject = e.target.closest('.subject.clickable');
                if (clickableSubject) {
                    const link = clickableSubject.getAttribute('data-link');
                    if (link) {
                        window.open(link, '_blank');
                    }
                }
            });
        }

        
        function initializeTouchFeedback() {
            document.querySelectorAll('.subject, .nav-btn').forEach(element => {
                element.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.95)';
                });
                
                element.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
        }

       
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentTime();
            updateCurrentDayIndicator();
            initializeNavigation();
            initializeClickHandlers();
            initializeTouchFeedback();
            
         
            setInterval(updateCurrentTime, 60000);
            
           
            setInterval(updateCurrentDayIndicator, 60000);
        });

       
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful');
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
    <script>
// เพิ่มข้อมูลการสอบ

// เพิ่มข้อมูลการสอบพร้อมชื่ออาจารย์ผู้สอน
const examData = {
    '001102': {
        name: 'Fundamental English 2',
        teacher: 'Staff',
        midterm: 'จันทร์ที่ 26 มกราคม 2569 เวลา 12.00 - 15.00 ',
        final: 'จันทร์ที่ 16 มีนาคม 2569 เวลา 12:00-15:00'
    },
    '954143': {
        name: 'Data Management',
        teacher: 'Ratlapat Suteeca',
        midterm: 'พฤหัสบดีที่ 29 มกราคม 2569 เวลา 15.30 - 18.30',
        final: 'พฤหัสบดีที่ 19 มีนาคม 2569 เวลา 12.00 - 15.00'
    },
    '261112': {
        name: 'Game Appreciation',
        teacher: 'Sakgasit Ramingwong',
        midterm: 'ติดตามจากผู้สอน',
        final: 'ไม่มีสอบ Regular หรือยังไม่ประกาศ'
    },
    '954170': {
        name: 'Elementary Business Process Modeling',
        teacher: 'Jirapat Wanitwattanakosol',
        midterm: 'พุธที่ 28 มกราคม 2569 เวลา 15.30 - 18.30 ',
        final: 'เสาร์ที่ 28 มีนาคม 2569 เวลา 12.00 - 15.00'
    },
    '954248': {
        name: 'Information and Communication Technology',
        teacher: 'Somkeit Noamna',
        midterm: 'อังคารที่ 27 มกราคม 2569 เวลา 15.30 - 18.30',
        final: 'ศุกร์ที่ 27 มีนาคม 2569 เวลา 15.30 - 18.30'
    },
    '954246': {
        name: 'Fundamental Computer Programming for Modern Management',
        teacher: 'Kannika Duangcharone',
        midterm: 'จันทร์ที่ 26 มกราคม 2569 เวลา 15.30 - 18.30',
        final: 'พุธที่ 25 มีนาคม 2569 เวลา 15.30 - 18.30'
    }
};

// ฟังก์ชันเปิด Modal
function openExamModal(subjectCode) {
    const modal = document.getElementById('examModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalSubjectCode = document.getElementById('modalSubjectCode');
    const modalSubjectName = document.getElementById('modalSubjectName');
    const modalTeacherName = document.getElementById('modalTeacherName');
    const midtermDetails = document.getElementById('midtermDetails');
    const finalDetails = document.getElementById('finalDetails');
    
    const subject = examData[subjectCode];
    
    if (subject) {
        modalTitle.textContent = 'ข้อมูลวิชา';
        modalSubjectCode.textContent = subjectCode;
        modalSubjectName.textContent = subject.name;
        modalTeacherName.textContent = subject.teacher;
        
        midtermDetails.innerHTML = `<div class="exam-date">${subject.midterm}</div>`;
        finalDetails.innerHTML = `<div class="exam-date">${subject.final}</div>`;
        
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

// ฟังก์ชันปิด Modal
function closeExamModal() {
    const modal = document.getElementById('examModal');
    modal.classList.remove('active');
    document.body.style.overflow = '';
}

// เพิ่มในฟังก์ชัน DOMContentLoaded ที่มีอยู่แล้ว
document.addEventListener('DOMContentLoaded', function() {
    // ... โค้ดเดิมที่มีอยู่แล้ว ...
    
    // เพิ่ม Event Listeners สำหรับ Modal
    const closeModalBtn = document.getElementById('closeModal');
    const modalOverlay = document.getElementById('examModal');
    
    closeModalBtn.addEventListener('click', closeExamModal);
    
    modalOverlay.addEventListener('click', function(e) {
        if (e.target === modalOverlay) {
            closeExamModal();
        }
    });
    
    // เพิ่ม Event Listeners สำหรับ summary items
    document.querySelectorAll('.summary-item').forEach(item => {
        item.addEventListener('click', function() {
            const subjectCode = this.querySelector('span').textContent.split(' • ')[0];
            openExamModal(subjectCode);
        });
    });
    
    // ESC key เพื่อปิด Modal
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeExamModal();
        }
    });
});
</script>
<script>
 document.addEventListener('DOMContentLoaded', function() {
            updateCurrentTime();
            updateCurrentDayIndicator();
            initializeNavigation();
            initializeClickHandlers();
            initializeTouchFeedback();
            updateTodayView();

            // Update every minute
            setInterval(updateCurrentTime, 1000);
            setInterval(updateCurrentDayIndicator, 60000);
        });
    </script>

</body>
</html>
